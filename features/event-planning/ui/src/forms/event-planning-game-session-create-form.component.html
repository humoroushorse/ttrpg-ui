<form [formGroup]="gameSessionFg" (ngSubmit)="onSubmit()" class="flex flex-col">
  <mat-form-field>
    <mat-label>Game Master</mat-label>
    <input matInput formControlName="game_master_id" />
    <mat-error *ngIf="gameSessionFg.controls.game_master_id.hasError('required')"> Game Master is required </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Title</mat-label>
    <input matInput formControlName="title" />
    <mat-error *ngIf="gameSessionFg.controls.title.hasError('required')"> Title is required </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Description</mat-label>
    <textarea matInput formControlName="description"></textarea>
    <mat-error *ngIf="gameSessionFg.controls.description.hasError('required')"> Description is required </mat-error>
  </mat-form-field>

  <div class="flex w-full flex-col md:flex-row md:gap-4">
    <mat-form-field class="w-full min-w-60">
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="startDatePicker" formControlName="start_date" />
      <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #startDatePicker></mat-datepicker>
      <mat-error *ngIf="gameSessionFg.controls.start_date.hasError('required')"> Start date is required </mat-error>
    </mat-form-field>

    <mat-form-field class="w-full min-w-60">
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="endDatePicker" formControlName="end_date" />
      <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #endDatePicker></mat-datepicker>
      <mat-error *ngIf="gameSessionFg.controls.end_date.hasError('required')"> End date is required </mat-error>
    </mat-form-field>
  </div>

  <mat-form-field>
    <mat-label>Max Players</mat-label>
    <input matInput type="number" formControlName="max_players" />
    <mat-error *ngIf="gameSessionFg.controls.max_players.hasError('required')"> Max players is required </mat-error>
    <mat-error *ngIf="gameSessionFg.controls.max_players.hasError('min')"> Minimum 1 player is required </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Image URL</mat-label>
    <input matInput formControlName="image_url" />
  </mat-form-field>

  <mat-checkbox formControlName="is_public">Is Public?</mat-checkbox>

  @if (!hideSubmitButton()) {
    <button mat-raised-button type="submit">Submit</button>
  }
</form>
